<h2>My Availability</h2>

<div *ngIf="loading">Loading...</div>

<div *ngIf="!loading && employee">
  <p><strong>Name:</strong> {{ employee.name }}</p>
  <p><strong>Email:</strong> {{ employee.email }}</p>
  <p>
    <strong>Current status:</strong>
    <span class="status-badge" [ngClass]="'status-' + employee.availabilityStatus">
      {{ employee.availabilityStatus }}
    </span>
  </p>

  <div>
    <label for="status">Change status</label>
    <select id="status" [ngModel]="employee.availabilityStatus"
            (ngModelChange)="changeStatus($event)">
      <option *ngFor="let s of statuses" [value]="s">
        {{ s }}
      </option>
    </select>
  </div>

  <button class="secondary" (click)="logout()">Logout</button>

  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="success" class="success">{{ success }}</div>
</div>
